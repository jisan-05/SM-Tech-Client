import{r as i,j as e,d as p}from"./index-DCQw84vC.js";import{P as b,D as f,a as j,S as y,V as o,I as u,T as l}from"./react-pdf.browser-NLwWA8Cq.js";import{m,t as g}from"./index-DcUyFneu.js";import{l as w}from"./logo-BJZxaNBN.js";import"./iconBase-D9CqRmFI.js";const t=y.create({page:{flexDirection:"column",backgroundColor:"#ffffff",padding:20,fontFamily:"Helvetica"},logoContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},logo:{width:30,height:30},header:{textAlign:"center",fontSize:18,marginBottom:15,fontWeight:"bold",color:"#2c3e50"},reportInfo:{fontSize:10,color:"#7f8c8d",textAlign:"right"},table:{display:"table",width:"100%",borderStyle:"solid",borderWidth:1,borderColor:"#e0e0e0"},tableRow:{flexDirection:"row"},tableCol:{borderStyle:"solid",borderWidth:1,borderColor:"#e0e0e0",padding:5,fontSize:9},tableHeader:{backgroundColor:"#3498db",color:"white",fontWeight:"bold",fontSize:10},colName:{width:"20%"},colDesignation:{width:"15%"},colSpecialization:{width:"15%"},colEducation:{width:"15%"},colExperience:{width:"15%"},colSkills:{width:"20%"},skillsList:{flexDirection:"row",flexWrap:"wrap",gap:2},skillTag:{backgroundColor:"#e0e0e0",padding:"1px 3px",borderRadius:2,marginRight:2,marginBottom:2,fontSize:8}}),S=({teachers:s})=>{const n=new Date().toLocaleDateString();return e.jsx(f,{children:e.jsxs(j,{size:"A4",orientation:"landscape",style:t.page,children:[e.jsxs(o,{style:t.logoContainer,children:[e.jsx(u,{src:w,style:t.logo}),e.jsxs(l,{style:t.reportInfo,children:["SM TECH TEACHER REPORT | Generated on: ",n," | Total Teachers: ",s.length]}),"SM TECH TEACHER REPORT"]}),e.jsxs(o,{style:t.table,children:[e.jsxs(o,{style:[t.tableRow,t.tableHeader],children:[e.jsx(l,{style:[t.tableCol,t.colName],children:"Teacher Name"}),e.jsx(l,{style:[t.tableCol,t.colDesignation],children:"Designation"}),e.jsx(l,{style:[t.tableCol,t.colSpecialization],children:"Specialization"}),e.jsx(l,{style:[t.tableCol,t.colEducation],children:"Education"}),e.jsx(l,{style:[t.tableCol,t.colExperience],children:"Experience"}),e.jsx(l,{style:[t.tableCol,t.colSkills],children:"Skills"})]}),s.map((a,c)=>e.jsxs(o,{style:t.tableRow,children:[e.jsx(l,{style:[t.tableCol,t.colName],children:a.name}),e.jsx(l,{style:[t.tableCol,t.colDesignation],children:a.designation}),e.jsx(l,{style:[t.tableCol,t.colSpecialization],children:a.specialization}),e.jsx(l,{style:[t.tableCol,t.colEducation],children:a.education}),e.jsx(l,{style:[t.tableCol,t.colExperience],children:a.experience}),e.jsx(o,{style:[t.tableCol,t.colSkills],children:e.jsx(o,{style:t.skillsList,children:a.skills.map((r,d)=>e.jsx(l,{style:t.skillTag,children:r},d))})})]},c))]})]})})},R=()=>{const[s,n]=i.useState([]),[a,c]=i.useState(!0),[r,d]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const h=await p.get("https://sm-tech-server.vercel.app/teachers");n(h.data)}catch(h){d("Failed to load teacher data"),console.error("Error fetching teachers:",h)}finally{c(!1)}})()},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-xl shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Teacher Report Generator"}),e.jsx("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:a?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(m,{className:"animate-spin text-blue-500 text-4xl mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading teacher data..."})]}):r?e.jsxs("div",{className:"text-red-500 text-center",children:[e.jsx("p",{children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:"Retry"})]}):s.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx(g,{className:"text-red-500 text-5xl mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Ready to generate PDF report for ",s.length," teachers"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Includes all teacher information in a printable format"})]}),e.jsx(b,{document:e.jsx(S,{teachers:s}),fileName:`Teachers_Report_${new Date().toISOString().split("T")[0]}.pdf`,className:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition flex items-center gap-2",children:({loading:x})=>e.jsxs(e.Fragment,{children:[x?e.jsx(m,{className:"animate-spin"}):e.jsx(g,{}),x?"Generating PDF...":"Download Teacher Report"]})})]}):e.jsx("p",{className:"text-gray-500",children:"No teacher data available"})})]})})};export{R as default};
