import{r as i,d,j as e,L as n,V as h}from"./index-DCQw84vC.js";import{S as g}from"./sweetalert2.esm.all-odB5D8k1.js";import{u as c,w as b}from"./xlsx-D1NZSDnX.js";const y=()=>{const[o,x]=i.useState([]);i.useEffect(()=>{l()},[]);const l=async()=>{try{const t=await d.get("https://sm-tech-server.vercel.app/teachers");x(t.data)}catch(t){console.error("Failed to fetch teachers",t)}},m=async t=>{g.fire({title:"Are you sure to Delete Teacher?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(s.isConfirmed)try{await d.delete(`https://sm-tech-server.vercel.app/teachers/${t}`,{withCredentials:!0}),l(),h.success("Teacher Deleted Successfully")}catch(a){console.error(a),h.error("Something went wrong! Try again.")}})},u=()=>{const t=o.map((r,w)=>({"No.":w+1,Name:r.name,Designation:r.designation,Education:r.education,Experience:r.experience})),s=c.book_new(),a=c.json_to_sheet(t),p=[{wch:5},{wch:25},{wch:25},{wch:25},{wch:30}];a["!cols"]=p,c.book_append_sheet(s,a,"Teachers"),b(s,"teachers_list.xlsx")};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Manage Teachers"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded hover:bg-green-700",children:"Download Teacher List (Excel)"}),e.jsx(n,{to:"/dashboardLayout/teacherPdf",className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 rounded hover:bg-blue-600",children:"Download Teacher List (PDF)"})]}),e.jsxs(n,{to:"/dashboardLayout/addTeacher",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition duration-300",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Teacher"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#07a698] text-white",children:[e.jsx("th",{className:"p-3",children:"Photo"}),e.jsx("th",{className:"p-3",children:"Name"}),e.jsx("th",{className:"p-3",children:"Designation"}),e.jsx("th",{className:"p-3",children:"Actions"})]})}),e.jsxs("tbody",{children:[o.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-3",children:e.jsx("img",{src:t.photoURL||"/default-instructor.jpg",alt:t.name,loading:"lazy",className:"w-12 h-12 object-cover rounded-full"})}),e.jsx("td",{className:"p-3",children:t.name}),e.jsx("td",{className:"p-3",children:t.designation}),e.jsxs("td",{className:"p-3 flex gap-2",children:[e.jsx(n,{to:`/dashboardLayout/editTeacher/${t._id}`,className:"bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition",children:"Edit"}),e.jsx("button",{onClick:()=>m(t._id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",children:"Delete"})]})]},t._id)),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center py-6 text-gray-500",children:"No teachers found."})})]})]})})]})};export{y as default};
