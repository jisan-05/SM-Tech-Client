import{r as g,j as e,L as D,d as k,V as j}from"./index-DCQw84vC.js";import{c as M}from"./utils-CKwcizm7.js";const F=()=>{const[d,c]=g.useState(""),[r,u]=g.useState(!1),N=async n=>{n.preventDefault(),u(!0);const t=n.target,s=t.student_id.value,a=t.student_name.value,l=t.father_name.value,o=t.mother_name.value,h=t.date_of_birth.value,v=t.nid_num.value,_=t.course_name.value,f=t.enrollment_date.value,b=t.course_complete_date.value,y=t.course_status.value,w=n.target.banner_image.files[0],S=await M(w),p=m(f,b);c(p);const C={studentId:s,studentName:a,fatherName:l,motherName:o,date_of_birth:h,nid_num:v,course_name:_,enrollment_date:f,course_complete_date:b,course_status:y,durationInMonths:p,student_url:S};try{const{data:i}=await k.post("https://sm-tech-server.vercel.app/student",C,{withCredentials:!0},t.reset());u(!1),j.success("Add Student Successfully"),console.log(i)}catch(i){console.log(i),j.error("Cant add student now! Try again")}},m=(n,t)=>{if(!n||!t)return"";const s=new Date(n),a=new Date(t),l=a.getFullYear()-s.getFullYear(),o=a.getMonth()-s.getMonth();return`${l*12+o} month(s)`},x=n=>{const t=n.target.form,s=t.enrollment_date.value,a=t.course_complete_date.value;c(m(s,a))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-tr from-amber-100 via-teal-100 to-amber-50 flex items-center justify-center p-6 rounded-2xl",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-3xl shadow-xl p-10 border border-teal-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-teal-800 tracking-tight",children:"ðŸŽ“ Student Registration"}),e.jsxs(D,{to:"/dashboardLayout/manageStudent",className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg shadow transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Manage All Students Info"]})]}),e.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Student ID"}),e.jsx("input",{type:"text",name:"student_id",required:!0,placeholder:"e.g. 2025001",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Student Name"}),e.jsx("input",{type:"text",name:"student_name",required:!0,placeholder:"e.g. Hasan Ahmed",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Father Name"}),e.jsx("input",{type:"text",name:"father_name",required:!0,placeholder:"e.g. Mostafizur Rahman",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Mother Name"}),e.jsx("input",{type:"text",name:"mother_name",required:!0,placeholder:"e.g. Shirin Akter",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"date_of_birth",required:!0,className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"NID / Birth Certificate No."}),e.jsx("input",{type:"number",name:"nid_num",required:!0,placeholder:"e.g. 123456789",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Course Name"}),e.jsx("input",{type:"text",name:"course_name",required:!0,placeholder:"e.g. Civil Engineering",className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Enrollment Date"}),e.jsx("input",{type:"date",name:"enrollment_date",required:!0,onChange:x,className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Course Finish Date"}),e.jsx("input",{type:"date",name:"course_complete_date",required:!0,onChange:x,className:"w-full px-4 py-3 border border-teal-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-teal-900 font-medium mb-1",children:"Course Status"}),e.jsxs("select",{name:"course_status",required:!0,className:"w-full px-4 py-3 border border-teal-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-amber-400 transition",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"certified",children:"Certified"})]})]}),d&&e.jsxs("div",{className:"text-amber-700 font-semibold",children:["ðŸ“… Course Duration: ",d]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[e.jsx("label",{className:"text-gray-700",htmlFor:"course_banner",children:"Course Banner (Image)"}),e.jsx("input",{required:!0,type:"file",id:"course_banner",name:"banner_image",accept:"image/*",className:""})]}),e.jsx("div",{className:"mt-10 col-span-1 md:col-span-2",children:e.jsx("button",{type:"submit",className:`w-full bg-teal-600 hover:bg-teal-700 text-white text-lg font-semibold py-3 rounded-xl shadow-md transition-all ${r?"opacity-75 cursor-not-allowed":"cursor-pointer"}`,disabled:r,children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Processing..."]}):e.jsx("span",{children:"âœ… Register Student"})})})]})]})})};export{F as default};
