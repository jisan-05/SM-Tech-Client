import{r as n,b as x,j as e,L as m,d as i}from"./index-DCQw84vC.js";import{v as u,w as f,x as j}from"./index-DcUyFneu.js";import{S as s}from"./sweetalert2.esm.all-odB5D8k1.js";import"./iconBase-D9CqRmFI.js";const w=()=>{const[r,l]=n.useState([]),[c,d]=n.useState(!0);x();const o=async()=>{try{const t=await i.get("https://sm-tech-server.vercel.app/events");l(t.data)}catch(t){console.error("Error fetching events:",t)}finally{d(!1)}};n.useEffect(()=>{o()},[]);const h=async t=>{if((await s.fire({title:"Are you sure?",text:"This event will be deleted permanently!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await i.delete(`https://sm-tech-server.vercel.app/events/${t}`,{withCredentials:!0}),l(r.filter(a=>a._id!==t)),s.fire("Deleted!","The event has been deleted.","success")}catch(a){console.error("Error deleting event:",a),s.fire("Error","Something went wrong while deleting.","error")}};return c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#07a698]"})}):e.jsx("section",{className:"p-6 bg-gray-100 min-h-screen",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Manage Events"}),e.jsx(m,{to:"/dashboardLayout/addEvent",children:e.jsxs("button",{className:"flex items-center gap-2 bg-[#07a698] text-white px-4 py-2 rounded hover:bg-[#058a81] transition",children:[e.jsx(u,{})," Add Event"]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#07a698] text-white text-left",children:[e.jsx("th",{className:"p-4",children:"Image"}),e.jsx("th",{className:"p-4",children:"Headline"}),e.jsx("th",{className:"p-4",children:"Subheadline"}),e.jsx("th",{className:"p-4 text-center",children:"Actions"})]})}),e.jsxs("tbody",{children:[r.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsx("img",{src:t.image,loading:"lazy",alt:t.headline,className:"w-20 h-16 object-cover rounded"})}),e.jsx("td",{className:"p-4 font-medium",children:t.headline}),e.jsx("td",{className:"p-4 text-gray-600",children:t.subHeadline}),e.jsxs("td",{className:"p-4 text-center space-x-4",children:[e.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>h(t._id),children:e.jsx(f,{})}),e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>s.fire("Coming Soon","Edit functionality is under development.","info"),children:e.jsx(j,{})})]})]},t._id)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center p-4 text-gray-500",children:"No events found."})})]})]})})]})})};export{w as default};
